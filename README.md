# My-HomeCam-Security
My-HomeCam-Security - система контроля входа в умном доме.

### Общая схема работы
<img src = "https://user-images.githubusercontent.com/55200686/99937212-2b40f400-2d76-11eb-84b2-21b46d074307.png" width = "700">
Когда гость подходит к входной двери и нажимает на ней кнопку звонка (1), срабатывает распознавание лица (2) и фотография человека вместе с информацией о нем отправляется прямиком на мобильное устройство хозяина дома (3). Далее хозяин решает званный или нет гость стоит у него за дверью, нажимая соответствующую кнопку в приложении (4), и дверь в зависимости от этого решения открывается либо остается закрытой (5). Также владелец в любой момент может включить прямую трансляцию с камеры системы, тем самым наблюдая за входом в реальном времени.

### Демонстрация (видео)

| Регистрация нового человека | Открыли ему дверь |
| ------------- | ------------- |
| [<img src="https://user-images.githubusercontent.com/55200686/99917137-72e86100-2d1f-11eb-9bf9-a548b8d7a699.jpg" width="550">](https://drive.google.com/file/d/1A2cUUTbxGFeNGI3LN1ukyz4THrzo9D6J/view?usp=sharing) | [<img src="https://user-images.githubusercontent.com/55200686/99936928-668ef300-2d75-11eb-89c7-18b69ef0015f.jpg" width="550">](https://drive.google.com/file/d/1H5ayyIAoAmhwgudwDymaXe8MtvTAsokQ/view?usp=sharing)  |

### Клонирование репозитория
В каталоге *parts-for-training\\* находятся отдельные модули программы, которые можно изучить и протестировать отдельно:
  - `01_face_dataset.py` - сбор данных (добавление нового объекта в базу данных),
  - `02_face_training.py` - обучение нейросети на основе обновленных данных,
  - `03_face_recognition.py` - распознавание (предсказание в процентах),
  - `rpi_camera_surveillance_system.py` - включение онлайн-трансляции,
    - перед запуском нужно пробросить тунель через, например, ngrok, а если оставить localhost, то трансляция будет доступна только при подключении к той же сети, что и Raspberry Pi
  - `buttonAndLED.py` - нажатие кнопки и работа светодиода.
    
Перед запуском создайте в каталоге с программами новый каталог *dataset\\*, там будут накапливаться фотографии для обучения нейронной сети с использованием `haarcascade_frontalface_default.xml`, полученный файл будет называться `trainer.yml` (может занять некоторое время).

**Но прежде всего нужно собрать всю аппаратную часть!**

### Более подробно о системе чистайте в [Report.pdf](https://github.com/Yang-Pi/My-HomeCam-Security/blob/main/report/report.pdf)
